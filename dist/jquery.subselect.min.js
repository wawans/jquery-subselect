!function(i,t){var e=function(i,e){this.elem=i,this.$elem=t(i),this.options=e,this.metadata=this.$elem.data()};e.defaults=(e.prototype={defaults:{sub:null,filter:null,child:"option",value:null},init:function(){return this.config=t.extend({},this.defaults,this.options,this.metadata),this.main(),this},main:function(){var i=this;this.subElem=jQuery(this.config.sub),this.arrElem=this.subElem.children(this.config.child).clone(),this.$elem.change(function(){this.valElem=null===i.config.value?i.$elem.val():i.config.value,i.subElem.children(i.config.child).remove(),i.arrElem.clone().filter(i.config.filter+this.valElem).appendTo(t(i.config.sub))}).trigger("change")}}).defaults,t.fn.subselect=function(i){return this.each(function(){new e(this,i).init()})},i.Subselect=e}(window,jQuery);